import re
from discord.ext import commands

from ._base import FunBase


def fancify(text, *, style: list, normal: list = None):
    normal = normal or [
        'a',
        'b',
        'c',
        'd',
        'e',
        'f',
        'g',
        'h',
        'i',
        'j',
        'k',
        'l',
        'm',
        'n',
        'o',
        'p',
        'q',
        'r',
        's',
        't',
        'u',
        'v',
        'w',
        'x',
        'y',
        'z',
    ]
    sub = dict(zip(normal, style))
    pattern = '|'.join(sorted(re.escape(k) for k in sub))

    return re.sub(pattern, lambda m: sub.get(m.group(0)) or sub.get(m.group(0).lower()) or m, text, flags=re.IGNORECASE)


class FancyText(FunBase):
    @commands.command(name='fancify', aliases=['fancy', 'ff'])
    async def fancify(self, ctx, *, text):
        """ğ“¯ğ“ªğ“·ğ“¬ğ“²ğ“¯ğ“²ğ“®ğ“¼ ğ“½ğ“®ğ”ğ“½"""
        style = [
            'ğ“ª',
            'ğ“«',
            'ğ“¬',
            'ğ“­',
            'ğ“®',
            'ğ“¯',
            'ğ“°',
            'ğ“±',
            'ğ“²',
            'ğ“³',
            'ğ“´',
            'ğ“µ',
            'ğ“¶',
            'ğ“·',
            'ğ“¸',
            'ğ“¹',
            'ğ“º',
            'ğ“»',
            'ğ“¼',
            'ğ“½',
            'ğ“¾',
            'ğ“¿',
            'ğ”€',
            'ğ”',
            'ğ”‚',
            'ğ”ƒ',
        ]
        await ctx.send(fancify(text, style=style), reminders=False)

    @commands.command(name='thicc-text', aliases=['thicc', 'tt'])
    async def thicc_text(self, ctx, *, text):
        """ğ— ğ—®ğ—¸ğ—²ğ˜€ ğ˜ğ—²ğ˜…ğ˜ ğ—§ğ—›ğ—œğ—–ğ—–"""
        style = [
            'ğ—”',
            'ğ—•',
            'ğ—–',
            'ğ——',
            'ğ—˜',
            'ğ—™',
            'ğ—š',
            'ğ—›',
            'ğ—œ',
            'ğ—',
            'ğ—',
            'ğ—Ÿ',
            'ğ— ',
            'ğ—¡',
            'ğ—¢',
            'ğ—£',
            'ğ—¤',
            'ğ—¥',
            'ğ—¦',
            'ğ—§',
            'ğ—¨',
            'ğ—©',
            'ğ—ª',
            'ğ—«',
            'ğ—¬',
            'ğ—­',
            'ğ—®',
            'ğ—¯',
            'ğ—°',
            'ğ—±',
            'ğ—²',
            'ğ—³',
            'ğ—´',
            'ğ—µ',
            'ğ—¶',
            'ğ—·',
            'ğ—¸',
            'ğ—¹',
            'ğ—º',
            'ğ—»',
            'ğ—¼',
            'ğ—½',
            'ğ—¾',
            'ğ—¿',
            'ğ˜€',
            'ğ˜',
            'ğ˜‚',
            'ğ˜ƒ',
            'ğ˜„',
            'ğ˜…',
            'ğ˜†',
            'ğ˜‡',
            'ğŸ­',
            'ğŸ®',
            'ğŸ¯',
            'ğŸ°',
            'ğŸ±',
            'ğŸ²',
            'ğŸ³',
            'ğŸ´',
            'ğŸµ',
            'ğŸ¬',
        ]
        normal = [
            'A',
            'B',
            'C',
            'D',
            'E',
            'F',
            'G',
            'H',
            'I',
            'J',
            'K',
            'L',
            'M',
            'N',
            'O',
            'P',
            'Q',
            'R',
            'S',
            'T',
            'U',
            'V',
            'W',
            'X',
            'Y',
            'Z',
            'a',
            'b',
            'c',
            'd',
            'e',
            'f',
            'g',
            'h',
            'i',
            'j',
            'k',
            'l',
            'm',
            'n',
            'o',
            'p',
            'q',
            'r',
            's',
            't',
            'u',
            'v',
            'w',
            'x',
            'y',
            'z',
            '1',
            '2',
            '3',
            '4',
            '5',
            '6',
            '7',
            '8',
            '9',
            '0',
        ]
        await ctx.send(fancify(text, style=style, normal=normal), reminders=False)
